<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>Dlouhodob炅aturitn菴r徑e: Zdrojov칳 soubor Models/MPDF/examples/example44_MPDFI_yearbook.php</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Dlouhodob炅aturitn菴r徑e
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generov치no programem Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Hledat');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Hlavn칤&#160;str치nka</span></a></li>
      <li><a href="pages.html"><span>Ostatn칤&#160;str치nky</span></a></li>
      <li><a href="annotated.html"><span>T콏칤dy</span></a></li>
      <li class="current"><a href="files.html"><span>Soubory</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Hledat" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>Seznam&#160;soubor콢</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>V코e</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>T콏칤dy</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Funkce</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Str치nky</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_22305cb0964bbe63c21991dd2265ce48.html">Models</a></li><li class="navelem"><a class="el" href="dir_3bbafe8f21523ffdb3cd429dbb168c71.html">MPDF</a></li><li class="navelem"><a class="el" href="dir_8006e7390ac448d67fc1c2e293cbc210.html">examples</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">example44_MPDFI_yearbook.php</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;?php</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// First write all your entries to a PDF file, forcing each entry to fit on one page</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;include(<span class="stringliteral">&quot;../mpdf.php&quot;</span>);</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// Define the maximum containing box width &amp; height for each text box as it will appear on the final page (no padding or margin here)</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;$pw = 80;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;$ph = 110;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;$minK = 0.7;    <span class="comment">// Maximum scaling factor 0.7 = 70%</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;$inc = 0.01;    <span class="comment">// Increment to change scaling factor 0.05 = 5%</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;$spacing = 10;  <span class="comment">// millimetres (vertically and horizonatlly between boxes in output) shrinks if boxes too big</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;$border = 3;    <span class="comment">// millimetres round final boxes (-1 for no border)</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;$align = <span class="charliteral">&#39;T&#39;</span>;   <span class="comment">// T(op) or M(iddle) for content of final output boxes</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// Only change the first parameter of the next line e.g. utf-8</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;$mpdf = <span class="keyword">new</span> mPDF(<span class="stringliteral">&#39;&#39;</span>, array(($pw*(1/$minK)),($ph*(1/$minK))), <span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;&#39;</span>, 0,($pw*(1/$minK))-$pw,0,($ph*(1/$minK))-$ph,0,0);</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;$pph = array();</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// FOR EACH ENTRY FOR YOUR YEARBOOK saving the page height in $pph (where $html is the HTML code for the entry):</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">//  $pph[$i] = SinglePage($html, $pw, $ph, $minK);</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">//==============================================================</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// .. but we will use this for an example</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;$html1 = <span class="stringliteral">&#39;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="stringliteral">&lt;style&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="stringliteral">div { text-align: justify; }</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="stringliteral">&lt;/style&gt;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="stringliteral">&lt;h2&gt;Joanne Smith 2002-2007&lt;/h2&gt;&lt;div&gt;This is the normal text in the div: Nulla felis erat, imperdiet eu, ullamcorper non, nonummy quis, elit. Suspendisse potenti. Ut a eros orci. Morbi feugiat pulvinar dolor. Cras odio. Donec mattis, nisi id euismod auctor, neque metus pellentesque, &lt;img src=&quot;tiger.wmf&quot; width=&quot;100&quot; style=&quot;float: right; margin: 4px; &quot; /&gt; risus at eleifend lacus sapien et risus. Phasellus metus. Phasellus feugiat, lectus ac aliquam molestie, leo lacus tincidunt turpis, vel aliquam quam odio et sapien. Mauris ante pede, auctor ac, suscipit quis, malesuada sed,&lt;img src=&quot;tiger.jpg&quot; width=&quot;100&quot; style=&quot;float: left; margin: 4px; &quot; /&gt; nulla. Integer sit amet odio sit amet lectus luctus euismod. Donec et nulla. Sed quis orci. &lt;/div&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="stringliteral">&#39;</span>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;$html2 = <span class="stringliteral">&#39;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="stringliteral">&lt;style&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="stringliteral">div { text-align: justify; }</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="stringliteral">&lt;/style&gt;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="stringliteral">&lt;h2&gt;Tim Another 2001-2007&lt;/h2&gt;&lt;div&gt;This is the normal text in the div: Nulla felis erat, imperdiet eu, ullamcorper non, nonummy quis, elit. Suspendisse potenti. Ut a eros at ligula vehicula pretium. Maecenas feugiat pede vel risus. et lectus. Fusce eleifend neque sit amet erat. Integer consectetuer nulla non orci. Morbi feugiat pulvinar dolor. Cras odio. Donec mattis, nisi id euismod auctor, neque metus pellentesque, &lt;img src=&quot;tiger.jpg&quot; width=&quot;100&quot; style=&quot;float: right; margin: 4px; &quot; /&gt; risus at eleifend lacus sapien et risus. Phasellus metus, suscipit quis, malesuada sed, nulla. Integer sit amet odio sit amet lectus luctus euismod. Donec et nulla. Sed quis orci.  &lt;br /&gt;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="stringliteral">Morbi feugiat pulvinar dolor. Cras odio. Donec mattis, nisi id euismod auctor, neque metus pellentesque risus, at eleifend lacus sapien et risus. Phasellus metus. Phasellus feugiat, lectus ac aliquam molestie, leo lacus tincidunt turpis, vel aliquam quam odio et sapien. Mauris ante pede, auctor ac, suscipit quis, malesuada sed, nulla. Integer sit amet odio sit amet lectus luctus euismod. Donec et nulla. Sed quis orci. &lt;/div&gt;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="stringliteral">&#39;</span>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keywordflow">for</span>($i=1; $i&lt;=10; $i++) {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="comment">// $html = $html;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">if</span> ($i % 3 == 1) { $html = $html2; }</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">else</span> { $html = $html1; }</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    $pph[$i] = SinglePage($html, $pw, $ph, $minK) ; <span class="comment">// $pph saves the actual height of each page</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;}</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">//==============================================================</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">// Save the pages to a file</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;$mpdf-&gt;Output(<span class="stringliteral">&#39;test.pdf&#39;</span>,<span class="charliteral">&#39;F&#39;</span>);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">// Now collate those pages using IMPORT - 4 pages to one page</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;$mpdf=<span class="keyword">new</span> mPDF(); </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;$mpdf-&gt;SetImportUse();  </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;$mpdf-&gt;SetDisplayMode(<span class="stringliteral">&#39;fullpage&#39;</span>);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;$mpdf-&gt;SetHeader(<span class="stringliteral">&#39;{DATE j-m-Y}|My Yearbook 2005|{PAGENO}&#39;</span>);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;$mpdf-&gt;SetFooter(<span class="stringliteral">&#39;|Printed using mPDF|&#39;</span>);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;$pagecount = $mpdf-&gt;SetSourceFile(<span class="stringliteral">&#39;test.pdf&#39;</span>);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="keywordflow">for</span>($i=1; $i&lt;=$pagecount; $i++) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">if</span> ($i % 4 == 1) { $mpdf-&gt;AddPage(); }</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    $pgheight = $mpdf-&gt;h - $mpdf-&gt;tMargin - $mpdf-&gt;bMargin;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    $hspacing = min($spacing,($mpdf-&gt;pgwidth - $pw*2) );</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    $vspacing = min($spacing,($pgheight - $ph*2) );</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    $x1 = $mpdf-&gt;lMargin + ($mpdf-&gt;pgwidth/2 - $hspacing/2 - $pw)/2;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    $x2 = $mpdf-&gt;lMargin + $mpdf-&gt;pgwidth/2 + $hspacing/2 + ($mpdf-&gt;pgwidth/2 - $hspacing/2 - $pw)/2;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    $y1 = $mpdf-&gt;tMargin + ($pgheight /2 - $vspacing/2 - $ph)/2;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    $y2 = $mpdf-&gt;tMargin + $pgheight /2 + $vspacing/2 + ($pgheight /2 - $vspacing/2 - $ph)/2;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">if</span> ($i % 4 == 1) { $x = $x1; $y = $y1; }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ($i % 4 == 2) { $x = $x2; $y = $y1; }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ($i % 4 == 3) { $x = $x1; $y = $y2; }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ($i % 4 == 0) { $x = $x2; $y = $y2; }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    $tplIdx = $mpdf-&gt;ImportPage($i, 0,0,$pw,$pph[$i]);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">if</span> ($align==<span class="charliteral">&#39;T&#39;</span>) { $mpdf-&gt;UseTemplate($tplIdx, $x, $y, $pw, $pph[$i]); }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">else</span> { $mpdf-&gt;UseTemplate($tplIdx, $x, ($y + (($ph - $pph[$i])/2)), $pw, $pph[$i]); }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">if</span> ($border &gt;= 0) { $mpdf-&gt;Rect($x-$border, $y-$border, $pw+2*$border, $ph+2*$border); }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;$mpdf-&gt;Output();</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;exit;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">//==============================================================</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="keyword">function</span> SinglePage($html, $pw, $ph, $minK=1, $inc=0.1) {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">// returns height of page</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;global $mpdf;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    $mpdf-&gt;AddPage(<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,($mpdf-&gt;w - $pw),<span class="stringliteral">&#39;&#39;</span>,($mpdf-&gt;h - $ph),0,0);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    $k = 1;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    $currpage = $mpdf-&gt;page;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    $mpdf-&gt;WriteHTML($html);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    $newpage = $mpdf-&gt;page;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">while</span>($currpage != $newpage) {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordflow">for</span>($u=0;$u&lt;=($newpage-$currpage);$u++) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="comment">// DELETE PAGE - the added page</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            unset($mpdf-&gt;pages[$mpdf-&gt;page]);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="keywordflow">if</span> (isset($mpdf-&gt;ktAnnots[$mpdf-&gt;page])) { unset( $mpdf-&gt;ktAnnots[$mpdf-&gt;page] ); }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <span class="keywordflow">if</span> (isset($mpdf-&gt;tbrot_Annots[$mpdf-&gt;page])) { unset( $mpdf-&gt;tbrot_Annots[$mpdf-&gt;page] ); }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <span class="keywordflow">if</span> (isset($mpdf-&gt;kwt_Annots[$mpdf-&gt;page])) { unset( $mpdf-&gt;kwt_Annots[$mpdf-&gt;page] ); }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="keywordflow">if</span> (isset($mpdf-&gt;PageAnnots[$mpdf-&gt;page])) { unset( $mpdf-&gt;PageAnnots[$mpdf-&gt;page] ); }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="keywordflow">if</span> (isset($mpdf-&gt;ktBlock[$mpdf-&gt;page])) { unset( $mpdf-&gt;ktBlock[$mpdf-&gt;page] ); }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <span class="keywordflow">if</span> (isset($mpdf-&gt;PageLinks[$mpdf-&gt;page])) { unset( $mpdf-&gt;PageLinks[$mpdf-&gt;page] ); }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <span class="keywordflow">if</span> (isset($mpdf-&gt;pageoutput[$mpdf-&gt;page])) { unset( $mpdf-&gt;pageoutput[$mpdf-&gt;page] ); }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <span class="comment">// Go to page before  - so can addpage</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            $mpdf-&gt;page--;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        }</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="comment">// mPDF 2.4 Float Images</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">if</span> (count($mpdf-&gt;floatbuffer)) {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            $mpdf-&gt;objectbuffer[] = $mpdf-&gt;floatbuffer[<span class="stringliteral">&#39;objattr&#39;</span>];</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            $mpdf-&gt;printobjectbuffer(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            $mpdf-&gt;objectbuffer = array();</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            $mpdf-&gt;floatbuffer = array();</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            $mpdf-&gt;float = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        $k += $inc;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="keywordflow">if</span> ((1/$k) &lt; $minK) { die(<span class="stringliteral">&quot;Page no. &quot;</span>.$mpdf-&gt;page.<span class="stringliteral">&quot; is too large to fit&quot;</span>); }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        $w = $pw * $k;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        $h = $ph * $k;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        $mpdf-&gt;_beginpage(<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,($mpdf-&gt;w - $w),<span class="stringliteral">&#39;&#39;</span>,($mpdf-&gt;h - $h));</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        $currpage = $mpdf-&gt;page;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        $mpdf-&gt;_out(<span class="stringliteral">&#39;2 J&#39;</span>);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        $mpdf-&gt;_out(sprintf(<span class="stringliteral">&#39;%.2f w&#39;</span>,0.1*$mpdf-&gt;k));</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        $mpdf-&gt;SetFont($mpdf-&gt;default_font,<span class="stringliteral">&#39;&#39;</span>,$mpdf-&gt;default_font_size ,<span class="keyword">true</span>,<span class="keyword">true</span>); <span class="comment">// forces write</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        $mpdf-&gt;SetDrawColor(0);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        $mpdf-&gt;SetFillColor(255);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        $mpdf-&gt;SetTextColor(0);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        $mpdf-&gt;ColorFlag=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="comment">// Start Transformation</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        $mpdf-&gt;StartTransform();</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        $mpdf-&gt;transformScale((100/$k), (100/$k), 0, 0);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        $mpdf-&gt;WriteHTML($html);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        $newpage = $mpdf-&gt;page;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="comment">//Stop Transformation</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        $mpdf-&gt;StopTransform();</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">return</span> ($mpdf-&gt;y / $k);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;?&gt;</div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generov치no ne 13. dub 2014 14.01:49 pro projekt Dlouhodob炅aturitn菴r徑e programem &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
